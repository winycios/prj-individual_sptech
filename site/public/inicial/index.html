<!DOCTYPE html>
<html lang="PT-BR">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Projeto WINYC</title>

    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/card_carousel.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- ===== Link Swiper's CSS ===== -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />


    <link rel="icon" type="svg" href="./assets/images/so_logo.png">
</head>

<body onload="mostrar_comentario()">

    <div class="body-wrap">
        <header>
            <div class="container">
                <div class="site-header-inner">
                    <div class="brand header-brand">
                        <div class="back-inicial">
                            <img src="assets/images/fundo.png" alt="imagem fundo">
                        </div>
                    </div>
                </div>
            </div>
        </header>


        <main>

            <!-- Tela inicial-->
            <section class="hero">
                <div class="container">
                    <div class="hero-inner">
                        <div class="hero-copy">
                            <h1 class="hero-title">O MUNDO <span style="color:#097dea">DIGITAL</span></h1>
                            <p>Meu projeto é sobre inteliencia artificial</p>
                            <div class="hero-cta"><a class="button button-primary" href="#">Saiba mais</a>
                            </div>
                        </div>
                    </div>
            </section>

            <!-- breve explicação-->
            <section class="features section">
                <h2 class="section-title mt-0">A inteligencia artificial na minha vida</h2>
                <ul>
                    <li style="--accent-color:#41516C">
                        <div class="date">2015</div>
                        <div class="title">Title 1</div>
                        <div class="descr">Lorem ipsum, dolor sit amet consectetur adipisicing elit. Quas itaque hic
                            quibusdam fugiat est numquam harum, accusamus suscipit consequatur laboriosam!</div>
                    </li>
                    <li style="--accent-color:#FBCA3E">
                        <div class="date">2015</div>
                        <div class="title">Title 2</div>
                        <div class="descr">Lorem ipsum dolor sit, amet consectetur adipisicing elit. Quos adipisci nobis
                            nostrum vero nihil veniam.</div>
                    </li>
                    <li style="--accent-color:#E24A68">
                        <div class="date">2018</div>
                        <div class="title">Title 3</div>
                        <div class="descr">Lorem ipsum dolor sit amet consectetur adipisicing elit. Fuga minima
                            consequuntur soluta placeat iure totam commodi repellendus ea delectus, libero fugit quod
                            reprehenderit, sequi quo, et dolorum saepe nulla hic.</div>
                    </li>
                    <li style="--accent-color:#1B5F8C">
                        <div class="date">2021</div>
                        <div class="title">Title 4</div>
                        <div class="descr">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Impedit, cumque.
                        </div>
                    </li>
                    <li style="--accent-color:#4CADAD">
                        <div class="date">2022</div>
                        <div class="title">Title 5</div>
                        <div class="descr">Lorem, ipsum dolor sit amet consectetur adipisicing elit. Odit, non.</div>
                    </li>
                </ul>
            </section>

            <!-- Projetins-->
            <section class="features section">
                <div class="container">
                    <div class="features-inner section-inner has-bottom-divider">
                        <div class="pricing-header text-center">
                            <h2 class="section-title">Projetos que me prendem</h2>
                        </div>
                        <div class="features-wrap">
                            <div class="feature text-center">
                                <div class="feature-inner">
                                    <div class="feature-icon">
                                        <img src="assets/images/feature-icon-01.svg" alt="Feature 01">
                                    </div>
                                    <h4 class="feature-title mt-24">Be Productive</h4>
                                    <p class="text-sm">Fermentum posuere urna nec tincidunt praesent semper feugiat
                                        nibh. A arcu cursus vitae congue mauris. Nam at lectus urna duis convallis.
                                        Mauris rhoncus aenean vel elit scelerisque mauris.</p>
                                </div>
                            </div>
                            <div class="feature text-center">
                                <div class="feature-inner">
                                    <div class="feature-icon">
                                        <img src="assets/images/feature-icon-02.svg" alt="Feature 02">
                                    </div>
                                    <h4 class="feature-title mt-24">Be Productive</h4>
                                    <p class="text-sm">Fermentum posuere urna nec tincidunt praesent semper feugiat
                                        nibh. A arcu cursus vitae congue mauris. Nam at lectus urna duis convallis.
                                        Mauris rhoncus aenean vel elit scelerisque mauris.</p>
                                </div>
                            </div>
                            <div class="feature text-center">
                                <div class="feature-inner">
                                    <div class="feature-icon">
                                        <img src="assets/images/feature-icon-03.svg" alt="Feature 03">
                                    </div>
                                    <h4 class="feature-title mt-24">Be Productive</h4>
                                    <p class="text-sm">Fermentum posuere urna nec tincidunt praesent semper feugiat
                                        nibh. A arcu cursus vitae congue mauris. Nam at lectus urna duis convallis.
                                        Mauris rhoncus aenean vel elit scelerisque mauris.</p>
                                </div>
                            </div>
                            <div class="feature text-center">
                                <div class="feature-inner">
                                    <div class="feature-icon">
                                        <img src="assets/images/feature-icon-04.svg" alt="Feature 04">
                                    </div>
                                    <h4 class="feature-title mt-24">Be Productive</h4>
                                    <p class="text-sm">Fermentum posuere urna nec tincidunt praesent semper feugiat
                                        nibh. A arcu cursus vitae congue mauris. Nam at lectus urna duis convallis.
                                        Mauris rhoncus aenean vel elit scelerisque mauris.</p>
                                </div>
                            </div>
                            <div class="feature text-center">
                                <div class="feature-inner">
                                    <div class="feature-icon">
                                        <img src="assets/images/feature-icon-05.svg" alt="Feature 05">
                                    </div>
                                    <h4 class="feature-title mt-24">Be Productive</h4>
                                    <p class="text-sm">Fermentum posuere urna nec tincidunt praesent semper feugiat
                                        nibh. A arcu cursus vitae congue mauris. Nam at lectus urna duis convallis.
                                        Mauris rhoncus aenean vel elit scelerisque mauris.</p>
                                </div>
                            </div>
                            <div class="feature text-center">
                                <div class="feature-inner">
                                    <div class="feature-icon">
                                        <img src="assets/images/feature-icon-06.svg" alt="Feature 06">
                                    </div>
                                    <h4 class="feature-title mt-24">Be Productive</h4>
                                    <p class="text-sm">Fermentum posuere urna nec tincidunt praesent semper feugiat
                                        nibh. A arcu cursus vitae congue mauris. Nam at lectus urna duis convallis.
                                        Mauris rhoncus aenean vel elit scelerisque mauris.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- informações pessoais -->
            <section class="hero">
                <div class="pricing-header text-center">
                    <h2 class="section-title">MINHA PESSOA</h2>
                </div>
                <div class="wrapper">
                    <div class="profile-card js-profile-card">
                        <div class="profile-card__img">
                            <img src="./assets/images/winyc.jpeg" alt="profile card">
                        </div>

                        <div class="profile-card__cnt js-profile-cnt">
                            <div class="profile-card__name">WINYCIOS ALVES NASCIMENTO</div>
                            <div class="profile-card__txt">Se Deus quiser Programador<strong> Full-stack junior</strong>
                            </div>
                            <div class="profile-card-loc">
                                <span class="profile-card-loc__txt">
                                    SÃO PAULO, BRASIL
                                </span>
                            </div>

                            <div class="profile-card-inf">
                                <div class="skill">
                                    <div class="skill-name">HTML</div>
                                    <div class="skill-level">
                                        <div class="skill-percent" style="width: 90%"></div>
                                    </div>
                                    <div class="skill-percent-number">90%</div>
                                </div>
                                <div class="skill">
                                    <div class="skill-name">CSS</div>
                                    <div class="skill-level">
                                        <div class="skill-percent" style="width: 80%"></div>
                                    </div>
                                    <div class="skill-percent-number">80%</div>
                                </div>
                                <div class="skill">
                                    <div class="skill-name">JavaScript</div>
                                    <div class="skill-level">
                                        <div class="skill-percent" style="width: 75%"></div>
                                    </div>
                                    <div class="skill-percent-number">75%</div>
                                </div>
                            </div>

                            <div class="profile-card-social">
                                <a href="https://www.facebook.com/iaMuhammedErdem"
                                    class="profile-card-social__item facebook" target="_blank">
                                    <span class="icon-font">
                                        <i class="fa-brands fa-linkedin"></i>
                                    </span>
                                </a>


                                <a href="https://www.instagram.com/iamuhammederdem"
                                    class="profile-card-social__item instagram" target="_blank">
                                    <span class="icon-font">
                                        <i class="fa-brands fa-instagram"></i>
                                    </span>
                                </a>

                                <a href="https://www.behance.net/iaMuhammedErdem"
                                    class="profile-card-social__item behance" target="_blank">
                                    <span class="icon-font">
                                        <i class="fa-brands fa-facebook"></i>
                                    </span>
                                </a>

                                <a href="https://github.com/muhammederdem" class="profile-card-social__item github"
                                    target="_blank">
                                    <span class="icon-font">
                                        <i class="fa-brands fa-github"></i>
                                    </span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>


            <!--Chat gpt-->
            <section class="pricing section">
                <div class="container-sm">
                    <div class="pricing-header text-center">
                        <h2 class="section-title">INTEGRAÇÃO DO CHAT GPT</h2>
                    </div>
                    <div class="pricing-inner section-inner">
                        <div id="chat">
                            <div class="chat__conversation-board">
                                <div class="chat__conversation-board__message-container">
                                    <div class="chat__conversation-board__message__context">
                                        <div>
                                            <textarea class="chat__conversation-board__message__bubble"
                                                placeholder="Resposta da IA" id="result" disabled rows="10"></textarea>
                                        </div>
                                    </div>
                                </div>
                                <div class="chat__conversation-panel">
                                    <div class="chat__conversation-panel__container">
                                        <input class="chat__conversation-panel__input panel-item" id="perguntar_ípt"
                                            placeholder="Escreva sua pergunta" />
                                        <button
                                            class="chat__conversation-panel__button panel-item btn-icon send-message-button"
                                            onclick="ver_resultado()">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                                viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                                                stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"
                                                data-reactid="1036">
                                                <line x1="22" y1="2" x2="11" y2="13"></line>
                                                <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                                            </svg>
                                        </button>
                                    </div>
                                    <span onclick="nova_sugestao()" style="cursor: pointer;">Gostaria de ideias para
                                        perguntas ?</span>
                                </div>
                            </div>
                        </div>
                        <div class="box_none" id="div_sugestao" style="flex-direction: column;">
                            <P id="text"></P>
                            <div style="align-items: flex-end; display: flex; justify-content: flex-end; gap: 20px;">
                                <button class="button button-primary button-wide-mobile" onclick="nova_sugestao()">Nova
                                    sugestão</button>
                                <button class="button button-primary button-wide-mobile" style="background: red;"
                                    onclick="fechar_sugestao()">fechar</button>
                            </div>
                        </div>
                    </div>
            </section>


            <!-- carousel -->
            <div class="pricing-header text-center">
                <h2 class="section-title">HISTÓRIAS DOS USÚARIOS</h2>
            </div>
            <section>
                <div class="swiper mySwiper container">
                    <div class="swiper-wrapper content" id="mostrar_resultado">
                    </div>
                    <div id="resultado"></div>
                    <div class="swiper-button-prev"></div>
                </div>
            </section>


            <section class="cta section">
                <div class="container">
                    <div class="cta-inner section-inner">
                        <h3 class="section-title">Gostou do que viu ?</h3>
                        <h4 class="section-title">Crie uma nova conta e deixe seu comentário</h4>
                        <div class="cta-cta">
                            <a class="button button-primary button-wide-mobile"
                                href="../Tela de login/index.html">LOGAR</a>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="site-footer">
            <div class="container">
                <div class="site-footer-inner">
                    <div class="brand footer-brand">
                        <a href="#">
                            <img class="header-logo-image" src="./assets/images/so_logo.png" alt="Logo">
                        </a>
                    </div>
                    <ul class="footer-links list-reset">
                        <li>
                            <a href="#">CONTATO</a>
                        </li>
                        <li>
                            <a href="../Tela de login/index.html">LOGAR</a>
                        </li>
                        <li>
                            <a href="../tela principal/index.html">INICIAL</a>
                        </li>
                    </ul>
                    <ul class="footer-social-links list-reset">
                        <div class="profile-card-social">
                            <a href="https://www.facebook.com/iaMuhammedErdem"
                                class="profile-card-social__item facebook" target="_blank">
                                <span class="icon-font">
                                    <i class="fa-brands fa-linkedin"></i>
                                </span>
                            </a>


                            <a href="https://www.instagram.com/iamuhammederdem"
                                class="profile-card-social__item instagram" target="_blank">
                                <span class="icon-font">
                                    <i class="fa-brands fa-instagram"></i>
                                </span>
                            </a>

                            <a href="https://www.behance.net/iaMuhammedErdem" class="profile-card-social__item behance"
                                target="_blank">
                                <span class="icon-font">
                                    <i class="fa-brands fa-facebook"></i>
                                </span>
                            </a>

                            <a href="https://github.com/muhammederdem" class="profile-card-social__item github"
                                target="_blank">
                                <span class="icon-font">
                                    <i class="fa-brands fa-github"></i>
                                </span>
                            </a>
                        </div>
                    </ul>
                    <div class="footer-copyright">&copy; 2023 WINYC, TODOS OS DIREITOS RESERVADOS</div>
                </div>
            </div>
        </footer>
    </div>

    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script src="./assets/js/script.js"></script>
    <script src="./assets/js/swiper.js"></script>
</body>

</html>

<script>
    var select_atual = null;
    function cadastrar_avaliacao() {

        console.log(idComentarios)
    }

    function mostrar_comentario() {
        fetch(`/comentarios/apresentar_comentario`, { cache: 'no-store' }).then(function (response) {
            if (response.ok) {
                response.json().then(function (resposta) {
                    console.log(`data recebidos: ${JSON.stringify(resposta)}`);

                    plotarComentario(resposta);

                });
            } else {
                console.error('Nenhum dado encontrado ou erro na API');
            }
        })
            .catch(function (error) {
                console.error(`Erro na obtenção dos data p/ gráfico: ${error.message}`);
            });
    }

    function plotarComentario(resposta) {

        for (i = 0; i < resposta.length; i++) {
            var registro = resposta[i];

            mostrar_resultado.innerHTML += `
            <div class="swiper-slide card">
                            <div class="card-content">
                                <div class="image">
                                    <img src="https://tinypic.host/images/2022/12/19/img_avatar.png" alt=""
                                        class="card-img">
                                </div>

                                <div class="name-profession">
                                    <span class="name">${registro.email}</span>
                                    <span class="profession">${registro.linguagem}</span>
                                    <span class="name">${registro.titulo}</span>
                                </div>
                                <div>${registro.comentario}</div>
                                <div>
                                    <label class="select">
                                        <select id="aval" onchange="alterarOpcoes()" required="required">
                                            <option value="nenhum" disabled="disabled" selected="selected">Esse comentário se remete a qual linguagem ?</option>
                                            <option value="1">horrível</option>
                                            <option value="2">Ruim</option>
                                            <option value="3">Mais ou menos</option>
                                            <option value="4">Bom</option>
                                            <option value="5">Interessante</option>
                                        </select>
                                        
                                        <svg>
                                            <use xlink:href="#select-arrow-down"></use>
                                        </svg>
                                    </label>
                                    <svg class="sprites">
                                        <symbol id="select-arrow-down" viewbox="0 0 10 6">
                                            <polyline points="1 1 5 5 9 1"></polyline>
                                        </symbol>
                                    </svg>
                                </div>
                                <span onclick="cadastrar_avaliacao('${registro.idComentario}')" class="enviar" style="cursor: pointer; transition: 0.5s">Enviar</span>
                            </div>
                        </div>
                    </div>
            `
        }
    }
    function alterarOpcoes() {
        var selectElement = document.getElementById('aval');
        select_atual = selectElement.value;

    }

    function cadastrar_avaliacao(ola) {
        var idVar = ola;
        var avaliacaoVar = select_atual;

        if (avaliacaoVar === null) {
            resultado.innerHTML = `
                <div id="alertar" class="alert danger-alert">
                    <h3>Selecione alguma opção</h3>
                    <a class="close">&times;</a>
                </div>
                `
            setTimeout(() => {
                alertar.style.display = 'none'
            }, 2000);

            return false;
        }

        fetch("/admin/cadastrar_avaliacao", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: JSON.stringify({
                idServer: idVar,
                avaliacaoServer: avaliacaoVar,
            })

        }).then(function (resposta) {

            console.log("resposta: ", resposta);

            if (resposta.ok) {
                resultado.innerHTML = `
                <div id="alertar" class="alert success-alert">
                    <h3>Dados atualizados com sucesso</h3>
                    <a class="close">&times;</a>
                </div>
                `
                setTimeout(() => {
                    alertar.style.display = 'none'
                    window.location.href = "./index.html"
                }, 2000);

            } else {
                throw ("Houve um erro ao tentar realizar o cadastro!");
                resultado.innerHTML = `
                <div class="alert danger-alert">
                    <h3>Houve um erro ao tentar realizar a atualização</h3>
                    <a class="close">&times;</a>
                </div>
      `
            }
        }).catch(function (resposta) {
            console.log(`#ERRO: ${resposta}`);
        });

        return false;
    }

</script>